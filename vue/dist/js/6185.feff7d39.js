"use strict";(self["webpackChunkvue"]=self["webpackChunkvue"]||[]).push([[6185],{6185:function(t,e,s){s.r(e),s.d(e,{default:function(){return l}});var r=function(){var t=this,e=t._self._c;return e("div",{staticClass:"main-content"},[e("div",{staticStyle:{width:"70%",margin:"30px 300px","min-height":"1000px"}},[e("div",{staticStyle:{"text-align":"center"}},[e("el-button",{attrs:{type:"success"}},[t._v(t._s("VIDEO"===t.courseData.type?"视频课":"图文课"))]),e("span",{staticStyle:{"font-size":"20px","font-weight":"550",color:"#333333","margin-left":"20px"}},[t._v(t._s(t.courseData.name))])],1),e("div",{staticStyle:{"text-align":"center","margin-top":"15px"}},[t.courseData.price>0?e("span",{staticStyle:{color:"green"}},[t._v("学习该课程需要 "+t._s(t.courseData.price)+" 积分")]):e("span",{staticStyle:{color:"red"}},[t._v("公开课")]),e("span",{staticStyle:{color:"#666666","margin-left":"50px"}},[t._v("发布时间："+t._s(t.courseData.time))])]),e("div",[e("div",{staticStyle:{"font-size":"18px",margin:"10px 0"}},[t._v("课程资料")]),0===t.courseData.price||t.flag?e("div",["VIDEO"===t.courseData.type?e("video",{staticStyle:{width:"100%",height:"600px"},attrs:{src:t.courseData.video,controls:""}}):t._e(),e("div",{staticStyle:{"margin-top":"10px"}},[t._v("资料链接："),e("a",{attrs:{href:t.courseData.file,target:"_blank"}},[t._v(t._s(t.courseData.file))])])]):e("div",[e("span",{staticStyle:{color:"red","margin-right":"20px"}},[t._v("该课程属于付费课程，购买后可解锁")]),e("el-button",{attrs:{type:"warning",size:"mini"},on:{click:t.exchange}},[t._v("购买课程")])],1)]),e("div",{staticStyle:{"margin-top":"20px"}},[e("div",{staticStyle:{"font-size":"18px"}},[t._v("课程介绍")]),e("div",{staticClass:"w-e-text w-e-text-container",staticStyle:{"margin-top":"10px"},domProps:{innerHTML:t._s(t.courseData.content)}})])])])},a=[],i=(s(7438),{data(){let t=this.$route.query.id;return{user:JSON.parse(localStorage.getItem("xm-user")||"{}"),scoreId:t,courseData:{},flag:!1}},mounted(){this.loadCourse()},methods:{loadCourse(){this.$request.get("/score/selectById/"+this.scoreId).then((t=>{"200"===t.code?this.courseData=t.data:this.$message.error(t.msg)}))},checkOrder(){this.$request.get("/scoreorder/selectAll",{params:{userId:this.user.id,scoreId:this.scoreId}}).then((t=>{"200"===t.code?t.data?.length>0&&(this.flag=!0):this.$message.error(t.msg)}))},exchange(){let t={scoreId:this.scoreId,score:this.courseData.price,userId:this.user.id};this.$request.post("/scoreorder/add",t).then((t=>{"200"===t.code?(this.$message.success("兑换成功"),this.loadCourse(),this.checkOrder()):this.$message.error(t.msg)}))}}}),c=i,o=s(3736),n=(0,o.Z)(c,r,a,!1,null,null,null),l=n.exports}}]);
//# sourceMappingURL=6185.feff7d39.js.map